<!DOCTYPE html>
<html lang="en">

<head>
    <style>
        #container {
            width: 100%;
            max-width: 700px;
            margin: 2em auto;
        }

        .cols {
            -moz-column-count: 3;
            -moz-column-gap: 3%;
            -moz-column-width: 30%;
            -webkit-column-count: 3;
            -webkit-column-gap: 3%;
            -webkit-column-width: 30%;
            column-count: 3;
            column-gap: 3%;
            column-width: 30%;
        }

        .box {
            margin-bottom: 20px;
            height: 100px;
            background: #BFBFBF;
        }
    </style>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Cursuri</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons
    <link href="./assets/img/favicon.png" rel="icon">
    <link href="./assets/img/apple-touch-icon.png" rel="apple-touch-icon">
-->
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files
    <link href="resources/views/assets/vendor/aos/aos.css" rel="stylesheet"/>
    <link href="./assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="./assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet"/>
    <link href="./assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet"/>
    <link href="./assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet"/>
    <link href="./assets/vendor/remixicon/remixicon.css" rel="stylesheet"/>
    <link href="./assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet"/>
-->
    <!-- Template Main CSS File
    <link href="./assets/css/style.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
-->
    <!-- =======================================================
    * Template Name: UVT - v4.7.0
    * Template URL: https://bootstrapmade.com/gp-free-multipurpose-html-bootstrap-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
    <!-- <button type="button" class="btn btn-primary btn-lg btn-block">Block level button</button> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            function fetch_materii() {
                $.ajax(
                    {
                        url: "http://localhost:8888/myslimsite/public/student/materii",
                        dataType: 'JSON',
                        success: function (data) {
                            console.log("GET /student/materii:\n");
                            var html = '';
                            console.log(data);
                            if (data.Error != undefined && data.Error != null) {
                                html = '<h1>Eroare!</h1><h3>Nu aveti materii definite!</h3>';
                                $('tbody').html('<tr><td>' + html + '</td></tr>');
                                return;
                            }
                            var html = '<tr>';
                            for (var i = 0; i < data.length; i++) {
                                //html += `<td><a class="btn btn-primary btn-lg btn-block" href="http://localhost:8888/myslimsite/public/student/courses/` + data[i]['id'] + `/grades">` + data[i]['denumire'] + `</a>` + `<a class="btn btn-outline-warning btn-lg btn-block" href="http://localhost:8888/myslimsite/public/teacher/subjects/` + data[i]['id'] + `"> Informatii legate de materie</a></td>`;
                                html += `<tr><td><div class="accordion" id="accordionExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingOne">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
        ` + data[i]['denumire'] + `
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        <strong>Vizualizare informatii</strong> <br> Pentru a vizualiza informatii legate de materie, accesati butonul de mai jos <br>
        <a class="btn btn-primary btn-lg btn-block" href="http://localhost:8888/myslimsite/public/student/courses/` + data[i]['id'] + `/grades">Vizualizare situatie curenta` + `</a>` + `<br><a class="btn btn-outline-warning btn-lg btn-block" href="http://localhost:8888/myslimsite/public/teacher/subjects/` + data[i]['id'] + `"> Informatii legate de materie</a></td></tr>
      </div>
    </div>
  </div>`;
                            }
                            html += `</tr>`;
                            $('#email').html(data[0]['email']);
                            $('tbody').html(html);
                        },
                        error: function (a, b, c) {
                            console.log('Error ajax!');
                            console.log(a);
                            console.log(b);
                            console.log(c);
                        }
                    }
                );
            }

            fetch_materii();
        });
        /*
          $(document).ready(function(){
              $.ajax({
                 url: "api/user.php",
                 success: function(data){
                 $('h2').html('Welcome, ' + data + '!');
                 }
                 error: function(jqXHR, textStatus, errorThrown){
                  alert('eroare la ajax...\n' + jqXHR + '\n' + textStatus + '\n' + errorThrown);
                 }
              })
          });
      */


        // BUN
        /*
        $(document).ready(function () {
            function fetch_data() {
                //  alert('am primit date...');
                $.ajax({
                    url: "api/materii_prof_curent.php",
                    success: function (data) {
                        $('tbody').html(data);
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        alert('eroare la ajax...\n' + jqXHR + '\n' + textStatus + '\n' + errorThrown);
                    }
                });
            }

            fetch_data();
        }); */
    </script>
</head>

<body>

<!-- ======= Header =======
<header id="header" class="fixed-top header-inner-pages">
    <div class="container d-flex align-items-center justify-content-lg-between"> -->


<!-- bootstrap stuff -->

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<!-- /boostrap -->

<nav class="navbar navbar-expand-lg navbar-dark bg-dark nav-fill w-100">
    <!-- Navbar content -->
    <a class="navbar-brand" href="#">UVT FMI Grading Script</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText"
            aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://studentweb.uvt.ro">StudentWeb</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://info.uvt.ro">UVT FMI</a>
            </li>
        </ul>
</nav>
<div class="card text-white bg-primary mb-3" style="width: 100%;">
    <div class="card-header">Bine ati revenit</div>
    <div class="card-body">
        <h5 class="card-title">Informatii utilizator curent</h5>
        <p class="card-text"><strong>Adresa de e-mail la login: </strong>
        <p id="email"></p>
        <p class="card-text"><strong>Tip account: </strong> Student</p>
    </div>
</div>


<!-- Uncomment below if you prefer to use an image logo -->
<!-- <a href="index.html" class="logo me-auto me-lg-0"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

<!-- <nav id="navbar" class="navbar order-last order-lg-0">
     <ul>
         <li><a class="nav-link scrollto " href="#hero">Home</a></li>


         </li>

     </ul>
     <i class="bi bi-list mobile-nav-toggle"></i>
 </nav>--> <!-- .navbar

        <a href="#about" class="get-started-btn scrollto">Student web</a> -->

</div>
</header><!-- End Header -->


<h2></h2>
</div>
</div>
<p class="h4">Selectati materia frecventata...</p>
<div class="row gy-4 mt-5 justify-content-center" data-aos="zoom-in" data-aos-delay="250">
    <table>
        <tbody>

        </tbody>


    </table>


    </section><!-- End Hero -->

    <main id="main">


        <!-- Vendor JS Files -->
        <script src="resources/views/assets/vendor/purecounter/purecounter.js"></script>
        <script src="resources/views/assets/vendor/aos/aos.js"></script>
        <script src="resources/views/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="resources/views/assets/vendor/glightbox/js/glightbox.min.js"></script>
        <script src="resources/views/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="resources/views/assets/vendor/swiper/swiper-bundle.min.js"></script>
        <script src="resources/views/assets/vendor/php-email-form/validate.js"></script>
        <!-- Template Main JS File -->
        <script src="resources/views/assets/js/main.js"></script>

</body>

</html>